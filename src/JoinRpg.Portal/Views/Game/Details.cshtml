@using JoinRpg.Interfaces
@using JoinRpg.Web.AdminTools
@using JoinRpg.Web.Games.Projects
@using JoinRpg.Web.ProjectCommon.Projects
@inject ICurrentUserAccessor currentUserAccessor 
@model ProjectDetailsViewModel
@{
    ViewBag.Title = Model.Title;
}

<component type="typeof(ProjectHomePanel)" render-mode="Static" param-Model="@Model" />

@if (currentUserAccessor.IsAdmin)
{
    var link = new ProjectAdminControlViewModel(Model.ProjectId, Model.ProjectName, [.. Model.KogdaIgras.Select(x => x.KogdaIgraId)], Model.DisableKogdaIgraMapping);
    <component type="typeof(ProjectAdminControlPanel)" render-mode="WebAssembly" param-Model="@link" />
}
