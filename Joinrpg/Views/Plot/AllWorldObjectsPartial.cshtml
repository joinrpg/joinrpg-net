@model JoinRpg.Web.Models.Plot.IEditablePlotElementViewModel


<div class="form-group" style="clear: both">
    
        <p>Здесь пока контрол не работает</p>

    <div id="jrpg-multicontrol"></div>
    <script type="text/javascript">
        $(function() {
            var options = {
                //путь к json, откуда берутся данные
                url: 'http://dev.joinrpg.ru/27/roles/78/indexjson',
                //разрешить или не разрешать множественный выбор. По умолчанию разрешен
                multiselect: true,
                //показывать ли персонажей или только группы (по умолчанию показываются)
                showcharacters: true,
                //функция, вызываемая на каждое добавление/удаление элемента.
                //получает список Id выбранных элементов (группы и персонажи не различаются,
                //но можно добавить этот функционал)
                onitemselected: function(items) {
                },
                //если нужно отправлять данные как форму, можно прицепить к контролу
                //скрытый элемент select. Ему нужны настройки id и name
                //Поле multiple ставится в соответствии с настройкой multiselect
               hiddenselect: {
                    id: 'selectCh',
                    name: 'selectCh'
                },
                //id элемент(ов), для которых показывает мультивыбор
                //т.к. по определению для любого элемента его родители
                //1 уровня являются выбранными группами
                //то чтобы получить исходный список групп
                //достаточно передать список элементов, для которых показан контрол
                keyelements: ['3819', '3944']
            };
            var c = $('#jrpg-multicontrol');
            c.multicontrol(options);
        });
    </script>
</div>


@section scripts
{
    

   
}
